<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>El lenguaje es...</title>
  <script src="https://unpkg.com/hydra-synth"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: black;
    }

    .container {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .background-text {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      text-align: center;
      font-size: 6em;
      color: rgba(255, 255, 255, 0.15);
      z-index: 1;
      pointer-events: none;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Courier New', monospace;
      font-weight: 300;
      letter-spacing: 0.1em;
      line-height: .6;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
    }

    #input {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 600px;
      height: 80px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      font-size: 18px;
      border: 2px solid white;
      border-radius: 10px;
      padding: 10px;
      z-index: 10;
      backdrop-filter: blur(4px);
      resize: none;
    }
  </style>
</head>

<body>

  <div class="container">
    <div class="background-text">xx xxxxxxxx xx xx xxxxxxxxxxxx xx xxxxxxxxxxxxx.</div>
  </div>

  <textarea id="input" placeholder="El lenguaje es..."></textarea>

<script>
const hydra = new Hydra({ detectAudio: false });


// >> ACCES_ acces: () => osc(20, 0.03, 1.7) .kaleid() .mult(osc(0, 0.01, 0)) .blend(o0, 0.9) .modulateScale(osc(10, 0), -0.03), 
// >> ACUER_ acuer: () => osc(4, 0.4, 0.8) .color(3, 1, 1.1) .rotate(0.3, 0.1) .pixelate(2, 20) .modulate(noise(3.5), () => 1.5 * Math.sin(0.08 * time)), 
// >> COLECT_ colect: () => shape(4, 0.9) .mult(osc(4, 0.25, 1)) .modulateRepeatX(osc(10), 5.0, ({ time }) => Math.sin(time) * 5) .scale(1, 0.5, 0.05), 
// >> COMUN_ comun: () => noise(3, 0.1) .thresh(0.5, 0.04) .color( () => Math.sin(time * 0.5), () => Math.cos(time * 0.3), () => Math.sin(time * 0.7) ), 
// >> CULTU_ cultu: () => osc(4, 0.4, 0.8) .color(3, 1, 1.1) .rotate(0.3, 0.1) .pixelate(2, 20) .modulate(noise(3.5), () => 1.5 * Math.sin(0.08 * time)), 
// >> CONTRA_ contra: () => osc(100, 0).kaleid(50).scale(1, 8), 
// >> DIALOG_ dialog: () => osc(12, 0.01, 0.001) .mult(osc(1, 0.1).modulate(osc(2).rotate(4, 1), 20)) .color(0, 2.4, 5) .saturate(0.2) .luma(1, 0.1) .scale(0.7, () => 0.7 + a.fft[3]) .diff(o0), 
// >> ESCRI_ escri: () => voronoi(25, 2, 10).color(3, 3, 8).brightness(1.15), 
// >> EXPRE_ expre: () => shape(99).scroll( () => -mouse.x / width, () => -mouse.y / height ), 
// >> GLOBAL_ global: () => osc(2, 1, 0.009).pixelate(10, 10).kaleid(8), 
// >> HABLA_ habla: () => osc(25, -0.3, 0.8).kaleid(7).kaleid(7), 
// >> INTER_ inter: () => osc(0.5, 0.3, 0.6).diff(shape(2)).mult(osc(1, -0.1)), 
// >> INTRAD_ intrad: () => noise(5).color(4, 5, 7).pixelate(10, 10), 
// >> PERDID_ perdid: () => osc(9, -0.1, 0.1) .modulateKaleid(osc(5, 0.5, 0), 30) .scale(0.7, 0.3) .modulate(noise(5, 0.1)) .mult(solid(8, 6, 8.3)), 
// >> RELACI_ relaci: () => shape(999).scrollX([-0.2, 0.2].smooth()), 
// >> TERRIT_ territ: () => osc(1, 1, 1) .diff(shape(3)) .scale(0.5) .add(shape(7), [0, 0.25, 0.5, 0.75, 1].fast(10)), 
// >> TEXT text: () => osc(50).layer(osc(50).rotate(1).luma()), texto: () => osc([2, 4, 3, 4].fast(0.2), 0.5, 12) .pixelate(40, 2, 8) .color(5, 3, 0.4), 
// >> TRAD_ trad: () => voronoi(0.5, 0.2, 0.9) .modulate(noise(0.5), 0.5) .color(9, 5, 6) .luma(0.5), 
// >> TRANS_ trans: () => osc(1, 5, 1).saturate(({ time }) => Math.sin(time) * 10), 
// >> VERB_ verb: () => shape(() => Math.floor(time * 0.3) % 7 + 3, 0.3, 0.01) .color( () => Math.sin(time * 0.5) + 0.5, () => Math.cos(time * 0.7) + 0.5, () => Math.sin(time * 0.3) + 0.5 ) .rotate(() => time * 0.1) }; const input = document.getElementById("input");

const palabras = { /* ...tus funciones tal cual van aquí... */ };

const input = document.getElementById("input");

input.addEventListener("input", () => {
  const texto = input.value.toLowerCase().trim();

  if (texto === "") {
    hush();
    solid(0,0,0).out();
    return;
  }

  const palabrasActivas = texto
    .split(/\s+/)
    .map(w => w.trim())
    .filter(w => palabras[w]);

  if (palabrasActivas.length === 0) return;


  // ===================================================
  // 1) Primera palabra → base
  // ===================================================
  let base = palabras[palabrasActivas[0]]();
  base.out(o1);


  // ===================================================
  // 2) Capas adicionales: mezcla aditiva suave + layering
  // ===================================================
  for (let i = 1; i < palabrasActivas.length; i++) {

    let capa = palabras[palabrasActivas[i]]();

    let mezcla = 0.25 + 0.25 * Math.sin(time * 0.5);  
    // mezcla dinámica que respira

    capa
      .blend(src(o1), mezcla)  // mezcla suave
      .layer(src(o1))          // superposición
      .out(o1);
  }


  // ===================================================
  // 3) Salida final
  // ===================================================
  src(o1).out(o0);
});
</script>

</body>
</html>












